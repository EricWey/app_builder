<view class="container">
  <view class="tabs">
    <view 
      class="tab {{activeTab === 'manual' ? 'active' : ''}}" 
      data-tab="manual" 
      bindtap="switchTab"
    >手动添加</view>
    <view 
      class="tab {{activeTab === 'paste' ? 'active' : ''}}" 
      data-tab="paste" 
      bindtap="switchTab"
    >粘贴解析</view>
  </view>

  <view wx:if="{{activeTab === 'manual'}}" class="tab-content">
    <form bindsubmit="onSubmit">
      <view class="form-item">
        <picker mode="selector" range="{{notificationTypes}}" bindchange="onTypeChange">
          <view class="picker">
            通知类目：{{selectedType || '请选择'}}
          </view>
        </picker>
      </view>

      <view class="form-item title-item">
        <view class="add-title-link" bindtap="showTitleInput">
          {{title ? title : '+ 添加新类目'}}
        </view>
      </view>

      <view class="form-item">
        <picker mode="date" value="{{date}}" bindchange="onDateChange">
          <view class="picker">日期：{{date}}</view>
        </picker>
      </view>



      <view class="form-item">
        <textarea 
          placeholder="请输入通知内容" 
          value="{{content}}" 
          bindinput="onContentInput"
        />
      </view>

      <button form-type="submit" type="primary">保存通知</button>
    </form>
  </view>

  <view wx:if="{{activeTab === 'paste'}}" class="tab-content">
    <view class="form-item">
      <textarea 
        placeholder="请粘贴需要解析的通知内容" 
        value="{{pasteContent}}" 
        bindinput="onPasteInput"
        style="height: 200px;"
      />
    </view>
    
    <button type="primary" bindtap="onParse">解析内容</button>
    
    <view wx:if="{{showParsedResult}}" class="parse-result">
      <view class="result-title">解析结果：</view>
      <view>类型：{{parsedContent.type}}</view>
      <view>标题：{{parsedContent.title}}</view>
      <view>日期：{{parsedContent.date}}</view>
      <view class="result-content">{{parsedContent.content}}</view>
      
      <button type="primary" bindtap="useParsedResult">使用此结果</button>
    </view>
  </view>
</view>